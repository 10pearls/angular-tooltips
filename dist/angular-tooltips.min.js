/*
 * angular-tooltips
 * 1.0.5
 * 
 * Angular.js tooltips module.
 * http://720kb.github.io/angular-tooltips
 * 
 * MIT license
 * Mon Dec 07 2015
 */
!function(t,o){"use strict";var e="tooltips",i=function(){var t=[],e=0,i=function(i){i-e>=15?(t.forEach(function(t){t()}),e=i):o.console.log("Skipped!")},r=function(){o.requestAnimationFrame(i)},l=function(o){o&&t.push(o)};return{add:function(e){t.length||o.addEventListener("resize",r),l(e)}}}(),r=function(t){var o={};return t.removeAttr(e),void 0!==t.attr("tooltip-template")&&(o["tooltip-template"]=t.attr("tooltip-template"),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(o["tooltip-template-url"]=t.attr("tooltip-template-url"),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-controller")&&(o["tooltip-controller"]=t.attr("tooltip-controller"),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(o["tooltip-side"]=t.attr("tooltip-side"),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(o["tooltip-show-trigger"]=t.attr("tooltip-show-trigger"),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(o["tooltip-hide-trigger"]=t.attr("tooltip-hide-trigger"),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(o["tooltip-smart"]=t.attr("tooltip-smart"),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(o["tooltip-class"]=t.attr("tooltip-class"),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-close-button")&&(o["tooltip-close-button"]=t.attr("tooltip-close-button"),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(o["tooltip-size"]=t.attr("tooltip-size"),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(o["tooltip-speed"]=t.attr("tooltip-speed"),t.removeAttr("tooltip-speed")),o},l=function(t){if(t){var e=t[0].getBoundingClientRect();return e.top<0||e.top>o.document.body.offsetHeight||e.left<0||e.left>o.document.body.offsetWidth||e.bottom<0||e.bottom>o.document.body.offsetHeight||e.right<0||e.right>o.document.body.offsetWidth?(t.css({top:"",left:"",bottom:"",right:""}),!0):!1}throw new Error("You must provide a position")},s=function(){var t={side:"top",showTrigger:"mouseover",hideTrigger:"mouseleave","class":"",smart:!1,closeButton:!1,size:"",speed:"steady"};return{configure:function(o){var e,i=Object.keys(t),r=0;if(o)for(;r<i.length;r+=1)e=i[r],e&&o[e]&&(t[e]=o[e])},$get:function(){return t}}},a=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf",function(e,s,a,n,p,d,m){var c=function(e,d,c,u,f){if(c.tooltipTemplate&&c.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-url together");if(!c.tooltipTemplateUrl&&!c.tooltipTemplate&&c.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var v,g="_"+m.side,C=m.showTrigger,h=m.hideTrigger,_=m.size,b="_"+m.speed;c.tooltipSide=c.tooltipSide||m.side,c.tooltipShowTrigger=c.tooltipShowTrigger||m.showTrigger,c.tooltipHideTrigger=c.tooltipHideTrigger||m.hideTrigger,c.tooltipClass=c.tooltipClass||m["class"],c.tooltipSmart="true"===c.tooltipSmart||m.smart,c.tooltipCloseButton=c.tooltipCloseButton||m.closeButton.toString(),c.tooltipSize=c.tooltipSize||m.size,c.tooltipSpeed=c.tooltipSpeed||m.speed,f(e,function(e,m){var u=r(e),f=t.element(o.document.createElement("tooltip")),w=t.element(o.document.createElement("tip-cont")),S=t.element(o.document.createElement("tip")),$=t.element(o.document.createElement("tip-tip")),T=t.element(o.document.createElement("span")),A=t.element(o.document.createElement("tip-arrow")),y=function(){return w.html()},E=function(t){void 0!==t&&w[0].getClientRects().length>1?f.addClass("_multiline"):f.removeClass("_multiline")},k=function(t){if(S.addClass("_hidden"),c.tooltipSmart)switch(c.tooltipSide){case"top":l(S)&&(f.removeClass("_top"),f.addClass("_left"),l(S)&&(f.removeClass("_left"),f.addClass("_bottom"),l(S)&&(f.removeClass("_bottom"),f.addClass("_right"),l(S)&&(f.removeClass("_right"),f.addClass("_top")))));break;case"left":l(S)&&(f.removeClass("_left"),f.addClass("_bottom"),l(S)&&(f.removeClass("_bottom"),f.addClass("_right"),l(S)&&(f.removeClass("_right"),f.addClass("_top"),l(S)&&(f.removeClass("_top"),f.addClass("_left")))));break;case"bottom":l(S)&&(f.removeClass("_bottom"),f.addClass("_left"),l(S)&&(f.removeClass("_left"),f.addClass("_top"),l(S)&&(f.removeClass("_top"),f.addClass("_right"),l(S)&&(f.removeClass("_right"),f.addClass("_bottom")))));break;case"right":l(S)&&(f.removeClass("_right"),f.addClass("_top"),l(S)&&(f.removeClass("_top"),f.addClass("_left"),l(S)&&(f.removeClass("_left"),f.addClass("_bottom"),l(S)&&(f.removeClass("_bottom"),f.addClass("_right")))));break;default:throw new Error("Position not supported")}S.removeClass("_hidden"),t&&"true"!==c.tooltipHidden&&f.addClass("active")},z=function(){f.removeClass("active")},H=function(t){t&&($.empty(),$.append(T),$.append(t),n(function(){k()}))},B=function(t){t&&s.get(t).then(function(t){t&&t.data&&($.empty(),$.append(T),$.append(a(t.data)(m)),n(function(){k()}))})},U=function(t){t&&(g&&f.removeAttr("_"+g),f.addClass("_"+t),g=t)},W=function(t){t&&(C&&f.off(C),f.on(t,k),C=t)},Y=function(t){t&&(h&&f.off(h),f.on(t,z),h=t)},j=function(t){t&&(v&&S.removeClass(v),S.addClass(t),v=t)},x=function(){"boolean"!=typeof c.tooltipSmart&&(c.tooltipSmart="true"===c.tooltipSmart)},O=function(t){var o="true"===t;o?(T.on("click",z),T.css("display","block")):(T.off("click"),T.css("display","none"))},R=function(o){if(o){var e,i=p(o,{$scope:m}),r=m.$new(!1,m),l=o.indexOf("as");l>=0?(e=o.substr(l+3),r[e]=i):t.extend(r,i),$.replaceWith(a($)(r)),N()}},q=function(t){t&&(_&&$.removeClass("_"+_),$.addClass("_"+t),_=t)},F=function(t){t&&(b&&f.removeClass("_"+b),f.addClass("_"+t),b=t)},L=c.$observe("tooltipTemplate",H),P=c.$observe("tooltipTemplateUrl",B),D=c.$observe("tooltipSide",U),G=c.$observe("tooltipShowTrigger",W),I=c.$observe("tooltipHideTrigger",Y),J=c.$observe("tooltipClass",j),K=c.$observe("tooltipSmart",x),M=c.$observe("tooltipCloseButton",O),N=c.$observe("tooltipController",R),Q=c.$observe("tooltipSize",q),V=c.$observe("tooltipSpeed",F),X=m.$watch(y,E);T.attr({id:"close-button"}),T.html("&times;"),S.addClass("_hidden"),$.append(T),$.append(c.tooltipTemplate),S.append($),S.append(A),w.append(e),f.attr(u),f.addClass("tooltips"),f.append(w),f.append(S),d.after(f),i.add(function(){E(),k()}),n(function(){k(),S.removeClass("_hidden"),f.addClass("_ready")}),m.$on("$destroy",function(){L(),P(),D(),G(),I(),J(),K(),M(),Q(),V(),X(),e.off(c.tooltipShowTrigger+" "+c.tooltipHideTrigger)})})};return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:c}}];t.module("720kb.tooltips",[]).provider(e+"Conf",s).directive(e,a)}(angular,window);
//# sourceMappingURL=angular-tooltips.js.map
