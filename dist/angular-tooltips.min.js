/*
 * angular-tooltips
 *
 * Angular.js tooltips module.
 * http://720kb.github.io/angular-tooltips
 * 
 * MIT license
 * 2015-12-01T10:17:20.014Z
 */
!function(t,o){"use strict";var e="tooltips",i=function(){var t=[],e=0,i=function(i){i-e>=15?(t.forEach(function(t){t()}),e=i):o.console.log("Skipped!")},l=function(){o.requestAnimationFrame(i)},r=function(o){o&&t.push(o)};return{add:function(e){t.length||o.addEventListener("resize",l),r(e)}}}(),l=function(t){var i,l=o.document.createElement("div"),r=[{key:e,value:""}];return t.removeAttr(e),void 0!==t.attr("tooltip-template")&&(r.push({key:"tooltip-template",value:t.attr("tooltip-template")}),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(r.push({key:"tooltip-template-url",value:t.attr("tooltip-template-url")}),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-controller")&&(r.push({key:"tooltip-controller",value:t.attr("tooltip-controller")}),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(r.push({key:"tooltip-side",value:t.attr("tooltip-side")}),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(r.push({key:"tooltip-show-trigger",value:t.attr("tooltip-show-trigger")}),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(r.push({key:"tooltip-hide-trigger",value:t.attr("tooltip-hide-trigger")}),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(r.push({key:"tooltip-smart",value:t.attr("tooltip-smart")}),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(r.push({key:"tooltip-class",value:t.attr("tooltip-class")}),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-close-button")&&(r.push({key:"tooltip-close-button",value:t.attr("tooltip-close-button")}),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(r.push({key:"tooltip-size",value:t.attr("tooltip-size")}),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(r.push({key:"tooltip-speed",value:t.attr("tooltip-speed")}),t.removeAttr("tooltip-speed")),l.appendChild(t.clone()[0]),i=l.innerHTML,l=null,{text:i,attrs:r}},r=function(t,o,e){var i="",l=[];return t.attrs.forEach(function(t){t&&t.key&&(i+=t.key+'="'+t.value+'"')}),l=["<tooltip "+i+' class="tooltips">',"<tip-cont>",t.text,"</tip-cont>"],(o||e)&&(l=l.concat(['<tip class="_hidden">',"<tip-tip>",'<span id="close-button">&times;</span>',o,"</tip-tip>","<tip-arrow></tip-arrow>","</tip>"])),l.push("</tooltip>"),l.join(" ")},s=function(t){if(t){var e=t[0].getBoundingClientRect();return e.top<0||e.top>o.document.body.offsetHeight||e.left<0||e.left>o.document.body.offsetWidth||e.bottom<0||e.bottom>o.document.body.offsetHeight||e.right<0||e.right>o.document.body.offsetWidth?(t.css({top:"",left:"",bottom:"",right:""}),!0):!1}throw new Error("You must provide a position")},a=["$log","$http","$compile","$timeout",function(o,e,a,p){var n=function(o,r,n){var d,u,c="_top",m="mouseover",v="mouseleave",f="_steady",h=function(){return r.find("tip-cont").html()},C=function(){r.find("tip-cont")[0].getClientRects().length>1?r.addClass("_multiline"):r.removeClass("_multiline")},g=function(t){var o=r.find("tip");if(o.addClass("_hidden"),n.tooltipSmart)switch(n.tooltipSide){case"top":s(o)&&(r.removeClass("_top"),r.addClass("_left"),s(o)&&(r.removeClass("_left"),r.addClass("_bottom"),s(o)&&(r.removeClass("_bottom"),r.addClass("_right"),s(o)&&(r.removeClass("_right"),r.addClass("_top")))));break;case"left":s(o)&&(r.removeClass("_left"),r.addClass("_bottom"),s(o)&&(r.removeClass("_bottom"),r.addClass("_right"),s(o)&&(r.removeClass("_right"),r.addClass("_top"),s(o)&&(r.removeClass("_top"),r.addClass("_left")))));break;case"bottom":s(o)&&(r.removeClass("_bottom"),r.addClass("_left"),s(o)&&(r.removeClass("_left"),r.addClass("_top"),s(o)&&(r.removeClass("_top"),r.addClass("_right"),s(o)&&(r.removeClass("_right"),r.addClass("_bottom")))));break;case"right":s(o)&&(r.removeClass("_right"),r.addClass("_top"),s(o)&&(r.removeClass("_top"),r.addClass("_left"),s(o)&&(r.removeClass("_left"),r.addClass("_bottom"),s(o)&&(r.removeClass("_bottom"),r.addClass("_right")))));break;default:throw new Error("Position not supported")}o.removeClass("_hidden"),t&&r.addClass("active")},_=function(){r.removeClass("active")},b=function(t){t&&p(function(){g()})},y=function(t){t&&e.get(t).then(function(t){if(t&&t.data){var e=l(r.find("tip-tip").append(t.data)).text;r.find("tip-tip").replaceWith(a(e)(o)),p(function(){g()})}})},k=function(t){t&&(r.find("tip-tip").attr("ng-controller",t),B())},w=function(t){t&&(c&&r.removeAttr("_"+c),r.addClass("_"+t),c=t)},T=function(t){t&&(m&&r.off(m),r.on(t,g),m=t)},$=function(t){t&&(v&&r.off(v),r.on(t,_),v=t)},S=function(t){var o=r.find("tip-tip");t&&(d&&o.removeClass(d),o.addClass(t),d=t)},A=function(o){var e=t.element(r.find("tip-tip").children()[0]),i="true"===o;i?(e.on("click",_),e.css("display","block")):(e.off("click"),e.css("display","none"))},E=function(t){var o=r.find("tip-tip");t&&(u&&o.removeClass("_"+u),o.addClass("_"+t),u=t)},H=function(t){t&&(f&&r.removeClass("_"+f),r.addClass("_"+t),f=t)},z=n.$observe("tooltipTemplate",b),U=n.$observe("tooltipTemplateUrl",y),B=n.$observe("tooltipController",k),W=n.$observe("tooltipSide",w),x=n.$observe("tooltipShowTrigger",T),Y=n.$observe("tooltipHideTrigger",$),L=n.$observe("tooltipClass",S),R=n.$observe("tooltipCloseButton",A),j=n.$observe("tooltipSize",E),q=n.$observe("tooltipSpeed",H),F=o.$watch(h,C);n.tooltipSide=n.tooltipSide||"top",n.tooltipShowTrigger=n.tooltipShowTrigger||"mouseover",n.tooltipHideTrigger=n.tooltipHideTrigger||"mouseleave",n.tooltipClass=n.tooltipClass||"",n.tooltipSmart="true"===n.tooltipSmart,n.tooltipCloseButton="true"===n.tooltipCloseButton,n.tooltipSpeed=n.tooltipSpeed||"steady",i.add(function(){C(),g()}),p(function(){g(),r.find("tip").removeClass("_hidden"),r.addClass("_ready")}),o.$on("$destroy",function(){z(),U(),W(),x(),Y(),L(),R(),j(),q(),F(),r.off(n.tooltipShowTrigger+" "+n.tooltipHideTrigger)})};return{restrict:"A",scope:!0,compile:function(t,o){if(o.tooltipTemplate&&o.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-url together");if(!o.tooltipTemplateUrl&&!o.tooltipTemplate&&o.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var e=l(t),i=r(e,o.tooltipTemplate,!!o.tooltipTemplateUrl);return t.replaceWith(i),n}}}];t.module("720kb.tooltips",[]).directive(e,a)}(angular,window);
//# sourceMappingURL=angular-tooltips.js.map
